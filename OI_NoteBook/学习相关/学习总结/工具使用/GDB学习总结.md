# GDB学习总结

---

## 如何使用

若要是要Gdb，则需在编译时加上选项`-g`

通过命令`gdb 可执行文件名`命令来运行Gdb

---

## 简单的命令

### 运行和求出

`r`表示运行程序，`q`表示退出

### 设置断点

通过命令`break 源代码行号/源代码函数名`来设置端点（调试的基本用语不能不知道啊）

`break`命令还可以使用条件判断，如在循环里，当i=1000的时候停止，则使用命令`break 源代码行号/源代码函数名 if i = 1000`

通过`info break`来查看目前所有的断点

通过`del break 断点编号`来删除某个断点，其中断点标号位`info break`中的编号，若不写断点编号，则删除所有断点

通过`disable 断点编号`来暂时停用某个断点，通过`enable 断点编号`来启用某个断点

通过`clean 行号`来删除改行上所有的断点

### 设置观察点

通过`watch 变量/表达式`来设置观察点，表示当变量或者表达式的值改变时停住程序

`rwatch 变量/表达式` 当变量或者表达式边访问时（表达时被访问应该是指运行了这个表达式吧。。。）

`awatch 变量/表达式`出现以上两种情况的任意一种都停住程序

其余命令与断点的命令一样

### 查看

通过`print 变量/表达式`命令来查看这个变量或者表达式的值

`print *数组名@需要查看的长度`用来查看数组

`print {变量名1，变量名2，变量名3}`一次查看多个变量

好像还要很多神奇的东西，要自己研究研究，待更

### 继续运行程序

- 使用`continue`继续运行到下一个端点/观察点，或者运行结束
- 使用`next`运行下一行代码，但是不进入到函数里面
- 使用`step`运行下一行代码，进入到函数里面

---

## 较高级的使用

### 修改变量的值

`set var a=4`表示把a的值修改为4

### 强制退出和调用函数

`return`强制退出当前函数

`call 函数名`强制调用这个函数

### 在执行每一条命令的时候都显示变量

`display 变量名`表示在每一条命令后边都显示这个变量，同理也可以一次多个

---

## 一些奇技淫巧

1. `make`使你不用退出gdb便可重新编译程序
2. `shell`是你不退出gdb也可以使用终端        

---

## 参考（然而参考的文章大都时参考别人的。。。）

https://blog.csdn.net/weiyuefei/article/details/72522973

https://www.cnblogs.com/sanghai/p/6189705.html

https://blog.csdn.net/yasi_xi/article/details/12784507